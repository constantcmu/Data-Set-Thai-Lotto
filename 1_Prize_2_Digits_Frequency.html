<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prize 2 Digits Frequency</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    </div>
    <div class="content">
        <h1>Prize 2 Digits Frequency</h1>
        <div id="chart"></div>
        <canvas id="prize2DigitsChart" width="400" height="200"></canvas>
        
        <label class="switch">
            <input type="checkbox" id="input">
            <div class="slider round">
                <div class="sun-moon">
                    <svg id="moon-dot-1" class="moon-dot" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                    <svg id="moon-dot-2" class="moon-dot" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                    <svg id="moon-dot-3" class="moon-dot" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                    <svg id="light-ray-1" class="light-ray" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                    <svg id="light-ray-2" class="light-ray" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                    <svg id="light-ray-3" class="light-ray" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>

                    <svg id="cloud-1" class="cloud-dark" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                    <svg id="cloud-2" class="cloud-dark" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                    <svg id="cloud-3" class="cloud-dark" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                    <svg id="cloud-4" class="cloud-light" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                    <svg id="cloud-5" class="cloud-light" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                    <svg id="cloud-6" class="cloud-light" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="50"></circle>
                    </svg>
                </div>
                <div class="stars">
                    <svg id="star-1" class="star" viewBox="0 0 20 20">
                        <path d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z"></path>
                    </svg>
                    <svg id="star-2" class="star" viewBox="0 0 20 20">
                        <path d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z"></path>
                    </svg>
                    <svg id="star-3" class="star" viewBox="0 0 20 20">
                        <path d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z"></path>
                    </svg>
                    <svg id="star-4" class="star" viewBox="0 0 20 20">
                        <path d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z"></path>
                    </svg>
                </div>
            </div>
        </label>

        <div id="numbers">
            <div class="row">
                <span class="number" data-number="00">00</span>
                <span class="number" data-number="01">01</span>
                <span class="number" data-number="02">02</span>
                <span class="number" data-number="03">03</span>
                <span class="number" data-number="04">04</span>
                <span class="number" data-number="05">05</span>
                <span class="number" data-number="06">06</span>
                <span class="number" data-number="07">07</span>
                <span class="number" data-number="08">08</span>
                <span class="number" data-number="09">09</span>
            </div>
            <div class="row">
                <span class="number" data-number="10">10</span>
                <span class="number" data-number="11">11</span>
                <span class="number" data-number="12">12</span>
                <span class="number" data-number="13">13</span>
                <span class="number" data-number="14">14</span>
                <span class="number" data-number="15">15</span>
                <span class="number" data-number="16">16</span>
                <span class="number" data-number="17">17</span>
                <span class="number" data-number="18">18</span>
                <span class="number" data-number="19">19</span>
            </div>
            <div class="row">
                <span class="number" data-number="20">20</span>
                <span class="number" data-number="21">21</span>
                <span class="number" data-number="22">22</span>
                <span class="number" data-number="23">23</span>
                <span class="number" data-number="24">24</span>
                <span class="number" data-number="25">25</span>
                <span class="number" data-number="26">26</span>
                <span class="number" data-number="27">27</span>
                <span class="number" data-number="28">28</span>
                <span class="number" data-number="29">29</span>
            </div>
            <div class="row">
                <span class="number" data-number="30">30</span>
                <span class="number" data-number="31">31</span>
                <span class="number" data-number="32">32</span>
                <span class="number" data-number="33">33</span>
                <span class="number" data-number="34">34</span>
                <span class="number" data-number="35">35</span>
                <span class="number" data-number="36">36</span>
                <span class="number" data-number="37">37</span>
                <span class="number" data-number="38">38</span>
                <span class="number" data-number="39">39</span>
            </div>
            <div class="row">
                <span class="number" data-number="40">40</span>
                <span class="number" data-number="41">41</span>
                <span class="number" data-number="42">42</span>
                <span class="number" data-number="43">43</span>
                <span class="number" data-number="44">44</span>
                <span class="number" data-number="45">45</span>
                <span class="number" data-number="46">46</span>
                <span class="number" data-number="47">47</span>
                <span class="number" data-number="48">48</span>
                <span class="number" data-number="49">49</span>
            </div>
            <div class="row">
                <span class="number" data-number="50">50</span>
                <span class="number" data-number="51">51</span>
                <span class="number" data-number="52">52</span>
                <span class="number" data-number="53">53</span>
                <span class="number" data-number="54">54</span>
                <span class="number" data-number="55">55</span>
                <span class="number" data-number="56">56</span>
                <span class="number" data-number="57">57</span>
                <span class="number" data-number="58">58</span>
                <span class="number" data-number="59">59</span>
            </div>
            <div class="row">
                <span class="number" data-number="60">60</span>
                <span class="number" data-number="61">61</span>
                <span class="number" data-number="62">62</span>
                <span class="number" data-number="63">63</span>
                <span class="number" data-number="64">64</span>
                <span class="number" data-number="65">65</span>
                <span class="number" data-number="66">66</span>
                <span class="number" data-number="67">67</span>
                <span class="number" data-number="68">68</span>
                <span class="number" data-number="69">69</span>
            </div>
            <div class="row">
                <span class="number" data-number="70">70</span>
                <span class="number" data-number="71">71</span>
                <span class="number" data-number="72">72</span>
                <span class="number" data-number="73">73</span>
                <span class="number" data-number="74">74</span>
                <span class="number" data-number="75">75</span>
                <span class="number" data-number="76">76</span>
                <span class="number" data-number="77">77</span>
                <span class="number" data-number="78">78</span>
                <span class="number" data-number="79">79</span>
            </div>
            <div class="row">
                <span class="number" data-number="80">80</span>
                <span class="number" data-number="81">81</span>
                <span class="number" data-number="82">82</span>
                <span class="number" data-number="83">83</span>
                <span class="number" data-number="84">84</span>
                <span class="number" data-number="85">85</span>
                <span class="number" data-number="86">86</span>
                <span class="number" data-number="87">87</span>
                <span class="number" data-number="88">88</span>
                <span class="number" data-number="89">89</span>
            </div>
            <div class="row">
                <span class="number" data-number="90">90</span>
                <span class="number" data-number="91">91</span>
                <span class="number" data-number="92">92</span>
                <span class="number" data-number="93">93</span>
                <span class="number" data-number="94">94</span>
                <span class="number" data-number="95">95</span>
                <span class="number" data-number="96">96</span>
                <span class="number" data-number="97">97</span>
                <span class="number" data-number="98">98</span>
                <span class="number" data-number="99">99</span>
            </div>
        </div>
    </div>
    <script src="script_fill.js"></script>
    <script src="script_getCSV.js"></script>
    <script>
        const toggleSwitch = document.getElementById('input');
        const body = document.body;

        toggleSwitch.addEventListener('change', () => {
            body.classList.toggle('dark-mode');
        });

        // D3.js code to create a bar chart
        d3.csv("data.csv").then(data => {
            data.forEach(d => {
                d.frequency = +d.frequency;
            });

            const margin = { top: 20, right: 30, bottom: 40, left: 40 };
            const width = 800 - margin.left - margin.right;
            const height = 400 - margin.top - margin.bottom;

            const svg = d3.select("#chart")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            const x = d3.scaleBand()
                .domain(data.map(d => d.number))
                .range([0, width])
                .padding(0.1);

            const y = d3.scaleLinear()
                .domain([0, d3.max(data, d => d.frequency)])
                .nice()
                .range([height, 0]);

            svg.append("g")
                .selectAll("rect")
                .data(data)
                .enter()
                .append("rect")
                .attr("x", d => x(d.number))
                .attr("y", d => y(d.frequency))
                .attr("width", x.bandwidth())
                .attr("height", d => height - y(d.frequency))
                .attr("fill", "steelblue");

            svg.append("g")
                .attr("class", "x-axis")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(x));

            svg.append("g")
                .attr("class", "y-axis")
                .call(d3.axisLeft(y));
        });

        // Create bar charts under each number
        d3.csv("data.csv").then(data => {
            data.forEach(d => {
                d.frequency = +d.frequency;
            });

            const rows = d3.selectAll("#numbers .row");
            rows.each(function() {
                const row = d3.select(this);
                const numbers = row.selectAll("span").data(data, d => d.number);

                numbers.enter()
                    .append("div")
                    .attr("class", "bar")
                    .style("height", d => `${d.frequency * 10}px`)
                    .style("width", "10px")
                    .style("background-color", "steelblue")
                    .style("margin", "2px")
                    .append("title")
                    .text(d => `Frequency: ${d.frequency}`);
            });
        });
    </script>
</body>
</html>
